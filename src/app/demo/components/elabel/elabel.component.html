<!--BREAD CRUMBS-->
<div class="grid p-fluid mb-2">
    <div class="flex flex-column gap-2 align-items-center justify-content-between mb-3 w-full">
        <p-card class="col-12 md:col-12 lg:col-12 ">

            <div class="flex flex-wrap md:flex-row gap-3 align-items-center justify-content-between">
                <div class="flex align-items-left justify-content-center">
                    <p-breadcrumb [model]="breadcrumbItems" [home]="{icon: 'pi pi-home'}"></p-breadcrumb>
                </div>

                <div class="flex align-items-right ">
                    <p-tag styleClass="p-mr-2" con="pi pi-exclamation-triangle" severity="warning"
                        value="bozza"></p-tag>
                </div>

                <div class="flex align-items-center md:align-items-right text-center">

                    <p-button icon="pi pi-qrcode" label="Scarica il QrCode" pTooltip="Scarica il codice QR"
                        styleClass="p-button-sm p-button-outlined p-button-secondary" [routerLink]="['/elabel/']"
                        class="mr-3"></p-button>
                    <p-button icon="pi pi-clock" pTooltip="Pubblica E-Label" label="Pubblica E-Label"
                        styleClass="p-button-sm p-button-outlined p-button-secondary"
                        [routerLink]="['/elabel/']"></p-button>
                </div>

            </div>


        </p-card>


    </div>
</div>

<!--ELABEL FORM-->
<div class="grid p-fluid mb-2">
    <!--PROFILO AZIENDALE-->
    <div class="col-12 md:col-9">


        <div class="card" style="border-radius: 0px;">

            <p-tabView orientation="left">
                <!--FORM-->
                <p-tabPanel header="{{ 'pages.elabel.cards.tab1' | translate }}" class="line-height-3 m-0">

                    <div class="grid">

                        <div class="col-9">
                            <p class="mt-3">Compila tutte le informazioni che devono essere visualizzate sull'e-ealabel. Le
                                informazioni che devono essere legalmente visualizzate sull'e-etichetta, se non stampate
                                sull'etichetta fisica, sono contrassegnate con ðŸ‡ªðŸ‡º / ðŸ‡®ðŸ‡¹.</p>
                            <p-divider></p-divider>
                            <div class="grid">
                                <div class="col-12 md:col-8">
                                    <label for="prodotto">{{ 'pages.elabel.form.product_name.label' | translate }}
                                        <app-infobutton
                                            [label]="'pages.elabel.form.product_name.helper'"></app-infobutton> ðŸ‡ªðŸ‡º /
                                        ðŸ‡®ðŸ‡¹</label>
                                    <input pInputText id="prodotto" [formControl]="form.get('product_name')" />
                                </div>
                                <div class="col-12 md:col-4">
                                    <label for="sku">{{ 'pages.elabel.form.sku.label' | translate }}
                                        <app-infobutton
                                            [label]="'pages.elabel.form.product_sku.helper'"></app-infobutton>
                                        (opzionale)</label>
                                    <input pInputText id="prodotto" [formControl]="form.get('product_sku')" />
                                </div>

                                <div class="col-12 md:col-12">
                                    <label for="country">{{ 'pages.elabel.form.country.label' | translate }}
                                        <app-infobutton [label]="'pages.elabel.form.country.helper'"></app-infobutton>
                                        ðŸ‡ªðŸ‡º</label>
                                    <input pInputText id="prodotto" [formControl]="form.get('country')" />
                                </div>

                                <div class="field col-6 md:col-6">
                                    <label>{{ 'pages.elabel.form.type.label' | translate }} <app-infobutton
                                            [label]="'pages.elabel.form.type.helper'"></app-infobutton> ðŸ‡ªðŸ‡º</label>
                                    <p-dropdown [options]="types" [formControl]="form.get('type')" [showClear]="true"
                                        placeholder="Seleziona">
                                        <ng-template let-option pTemplate="selectedItem">
                                            <span>{{option.label | translate}}</span>
                                        </ng-template>
                                        <ng-template let-option pTemplate="item">
                                            <span>{{option.label | translate}}</span>
                                        </ng-template>
                                    </p-dropdown>
                                </div>

                                <div class="field col-6 md:col-6">
                                    <label>{{ 'pages.elabel.form.vintage_year.label' | translate }} <app-infobutton
                                            [label]="'pages.elabel.form.vintage_year.helper'"></app-infobutton>
                                        (opzionale)</label>
                                    <p-calendar dateFormat="yy" view="year" [formControl]="form.get('vintage_year')"
                                        [showIcon]="true" inputId="icon"></p-calendar>
                                </div>

                                <div class="field col-6 md:col-6">
                                    <label>{{ 'pages.elabel.form.product_varieties.label' | translate }} <app-infobutton
                                            [label]="'pages.elabel.form.product_varieties.helper'"></app-infobutton>
                                        (opzionale)</label>
                                    <input class="w-full" pInputText [formControl]="form.get('product_varieties')"
                                        type="text" />
                                </div>
                                <div class="field col-6 md:col-6">
                                    <label>{{ 'pages.elabel.form.geographical_indication.label' | translate }}
                                        <app-infobutton
                                            [label]="'pages.elabel.form.geographical_indication.helper'"></app-infobutton> (opzionale)</label>

                                    <p-dropdown [options]="geographical_indication"
                                        [formControl]="form.get('geographical_indication')" [showClear]="true"
                                        placeholder="Seleziona">
                                        <ng-template let-option pTemplate="selectedItem">
                                            <span>{{option.label | translate}}</span>
                                        </ng-template>
                                        <ng-template let-option pTemplate="item">
                                            <span>{{option.label | translate}}</span>
                                        </ng-template>
                                    </p-dropdown>
                                </div>

                                <div class="field col-6 md:col-6">
                                    <label>{{ 'pages.elabel.form.alcohol_content_percentage.label' | translate }} <app-infobutton [label]="'pages.elabel.form.alcohol_content_percentage.helper'"></app-infobutton> (opzionale)</label>
                                    <span class="p-input-icon-right"><input [formControl]="form.get('alcohol_content_percentage')" type="number" min="0" max="100" pinputtext class="p-inputtext p-component p-element"><i class="pi pi-percentage"></i></span>
                                </div>

                                <div class="field col-6 md:col-6">
                                    <label>{{ 'pages.elabel.form.net_content.label' | translate }} <app-infobutton [label]="'pages.elabel.form.net_content.helper'"></app-infobutton> (opzionale)</label>
                                    <span class="p-input-icon-right"><input [formControl]="form.get('net_content')" type="number" min="0" max="100" pinputtext class="p-inputtext p-component p-element"><i class="pi">ml</i></span>
                                </div>

                            </div>
                        </div>

                        <div class="col-3 mt-3">
                            
                                <label>{{ 'pages.elabel.form.upload.label' | translate }} <app-infobutton [label]="'pages.elabel.form.upload.helper'"></app-infobutton> (opzionale)</label>
                                <img *ngIf="sub_image" src="//{{sub_image}}" class="mb-3">
                                <p-fileUpload 
                                mode="basic" 
                                name="image" 
                                chooseIcon="pi pi-upload" 
                                url="https://app.eulabel.it/backend//upload-sub/{{id}}" 
                                accept="image/*" maxFileSize="1000000" 
                                [auto]="true" 
                                (onUpload)="onBasicUpload()"
                                chooseLabel="Browse" />
                                <div class="p-2 border-1">
                                    <label >{{ 'global.qr' | translate }}</label>
                                    <img *ngIf="!form.get('qr').value" src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRixw6KcZuLECch8GPKfYHgUYXPJqXElFou1w&s">
                                    <qrcode *ngIf="form.get('qr').value" [qrdata]="form.get('qr').value" [width]="256" [errorCorrectionLevel]="'M'"></qrcode>
                                </div>   


                        </div>
                    </div>

                    <div class="grid">

                        
                    </div>
                </p-tabPanel>

                <!--IMPOSTAZIONI-->
                <p-tabPanel header="{{ 'pages.elabel.cards.tab2' | translate }}" class="line-height-3 m-0">
                    settings
                </p-tabPanel>

            </p-tabView>

        </div>
    </div>


    <div class="col-12 md:col-3">
        preview
    </div>
</div>